/**
 * SEO Generator Plugin - Responsive Design
 * Mobile, tablet, and desktop breakpoints
 *
 * Breakpoints:
 * - Mobile: ≤640px
 * - Tablet: ≤768px
 * - Desktop: ≥1024px
 * - Wide: ≥1280px
 */

/* ========================================
   MOBILE BREAKPOINT (≤640px)
   ======================================== */

@media (max-width: 640px) {
  /**
   * Sidebar - Collapse to hamburger menu
   */
  .seo-sidebar {
    position: fixed;
    left: -260px;
    top: 0;
    bottom: 0;
    z-index: var(--z-modal);
    transition: left var(--transition-slow);
  }

  .seo-sidebar.is-open {
    left: 0;
    box-shadow: var(--shadow-xl);
  }

  .seo-sidebar-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: calc(var(--z-modal) - 1);
  }

  .seo-sidebar-overlay.is-visible {
    display: block;
  }

  .seo-hamburger {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: var(--radius-md);
    cursor: pointer;
    position: fixed;
    top: var(--space-4);
    left: var(--space-4);
    z-index: var(--z-sticky);
    box-shadow: var(--shadow-md);
  }

  .seo-hamburger span {
    display: block;
    width: 20px;
    height: 2px;
    background: var(--charcoal);
    position: relative;
    transition: all var(--transition-base);
  }

  .seo-hamburger span::before,
  .seo-hamburger span::after {
    content: '';
    position: absolute;
    left: 0;
    width: 100%;
    height: 2px;
    background: var(--charcoal);
    transition: all var(--transition-base);
  }

  .seo-hamburger span::before {
    top: -6px;
  }

  .seo-hamburger span::after {
    bottom: -6px;
  }

  .seo-hamburger.is-open span {
    background: transparent;
  }

  .seo-hamburger.is-open span::before {
    top: 0;
    transform: rotate(45deg);
  }

  .seo-hamburger.is-open span::after {
    bottom: 0;
    transform: rotate(-45deg);
  }

  /**
   * Cards - Stack vertically
   */
  .seo-card {
    margin-left: 0;
    margin-right: 0;
  }

  .seo-column-mapping__row {
    grid-template-columns: 1fr;
    grid-template-rows: auto auto auto;
  }

  .seo-column-mapping__arrow {
    transform: rotate(90deg);
    justify-self: center;
  }

  /**
   * Buttons - Full width on mobile
   */
  .seo-btn-group {
    flex-direction: column;
    width: 100%;
  }

  .seo-btn-primary,
  .seo-btn-secondary,
  .seo-btn-danger {
    width: 100%;
    justify-content: center;
  }

  /**
   * Search - Full width
   */
  .seo-toolbar {
    flex-direction: column;
    align-items: stretch;
  }

  .seo-search {
    width: 100%;
  }

  .seo-filters {
    width: 100%;
    overflow-x: auto;
    padding-bottom: var(--space-2);
  }

  /**
   * List rows - More compact on mobile
   */
  .seo-list-row {
    flex-direction: column;
    align-items: flex-start;
    padding: var(--space-3);
  }

  .seo-list-row__meta {
    flex-direction: column;
    align-items: flex-start;
    gap: var(--space-2);
  }

  .seo-action-menu {
    position: absolute;
    top: var(--space-3);
    right: var(--space-3);
  }

  /**
   * Touch targets - Minimum 44px
   */
  .seo-radio__input,
  .seo-checkbox__input,
  .seo-filter__button,
  .seo-action-menu__trigger {
    min-width: 44px;
    min-height: 44px;
  }

  /**
   * Drop zone - Smaller on mobile
   */
  .seo-drop-zone {
    height: 150px;
  }

  .seo-drop-zone__icon {
    width: 36px;
    height: 36px;
  }

  /**
   * Progress cards - Full width
   */
  .seo-progress-card,
  .seo-upload-progress {
    margin-left: 0;
    margin-right: 0;
  }

  /**
   * Typography - Adjust for mobile
   */
  .seo-generator-page h1,
  .seo-generator-page .heading-1 {
    font-size: var(--text-2xl);
  }

  .seo-generator-page h2,
  .seo-generator-page .heading-2 {
    font-size: var(--text-xl);
  }
}

/* ========================================
   TABLET BREAKPOINT (641px - 768px)
   ======================================== */

@media (min-width: 641px) and (max-width: 768px) {
  /**
   * Sidebar - Toggleable with overlay
   */
  .seo-sidebar {
    left: -260px;
    transition: left var(--transition-slow);
  }

  .seo-sidebar.is-open {
    left: 0;
  }

  .seo-sidebar-toggle {
    display: block;
    position: fixed;
    top: var(--space-4);
    left: var(--space-4);
    z-index: var(--z-sticky);
  }

  /**
   * Cards - 2-column layouts where applicable
   */
  .seo-card-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-4);
  }

  /**
   * List rows - Compact layout
   */
  .seo-list-row__meta {
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  /**
   * Search toolbar - Wrap on smaller screens
   */
  .seo-toolbar {
    flex-wrap: wrap;
  }

  .seo-search {
    flex: 1;
    min-width: 250px;
  }
}

/* ========================================
   DESKTOP BREAKPOINT (≥1024px)
   ======================================== */

@media (min-width: 1024px) {
  /**
   * Sidebar - Always visible
   */
  .seo-sidebar {
    left: 160px; /* WordPress admin menu width */
  }

  .seo-hamburger {
    display: none;
  }

  .seo-sidebar-overlay {
    display: none;
  }

  /**
   * Main content - Account for sidebar
   */
  .seo-generator-page {
    margin-left: 260px;
  }

  /**
   * Multi-column layouts
   */
  .seo-card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-4);
  }

  /**
   * Column mapping - Show side-by-side
   */
  .seo-column-mapping__row {
    grid-template-columns: 1fr auto 1fr;
  }

  /**
   * Toolbar - Full-width with space between
   */
  .seo-toolbar {
    flex-wrap: nowrap;
  }

  /**
   * List rows - Full metadata visible
   */
  .seo-list-row {
    padding: var(--space-4) var(--space-5);
  }

  .seo-list-row__meta {
    flex-direction: row;
    gap: var(--space-4);
  }

  /**
   * Optimal horizontal space usage
   */
  .seo-content-wrapper {
    max-width: 1400px;
    margin: 0 auto;
    padding: var(--space-6);
  }
}

/* ========================================
   WIDE DESKTOP (≥1280px)
   ======================================== */

@media (min-width: 1280px) {
  /**
   * Wider content area
   */
  .seo-content-wrapper {
    max-width: 1600px;
  }

  /**
   * 3-column card grids
   */
  .seo-card-grid--3col {
    grid-template-columns: repeat(3, 1fr);
  }

  /**
   * List rows - More spacing
   */
  .seo-list-row {
    padding: var(--space-5) var(--space-6);
  }

  /**
   * Search bar - Wider
   */
  .seo-search {
    width: 400px;
  }
}

/* ========================================
   LANDSCAPE ORIENTATION
   ======================================== */

@media (max-width: 768px) and (orientation: landscape) {
  /**
   * Adjust for landscape mobile devices
   */
  .seo-sidebar {
    width: 220px;
  }

  .seo-drop-zone {
    height: 120px;
  }

  .seo-progress-card {
    padding: var(--space-3);
  }
}

/* ========================================
   HIGH DPI SCREENS
   ======================================== */

@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /**
   * Sharper borders and shadows for retina displays
   */
  .seo-card,
  .seo-list-row,
  .seo-sidebar {
    border-width: 0.5px;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  /**
   * Hide interactive elements when printing
   */
  .seo-sidebar,
  .seo-hamburger,
  .seo-action-menu,
  .seo-btn-primary,
  .seo-btn-secondary,
  .seo-btn-danger,
  .seo-filters,
  .seo-search {
    display: none;
  }

  /**
   * Optimize for print
   */
  .seo-generator-page {
    margin: 0;
    padding: 0;
  }

  .seo-card,
  .seo-list-row {
    break-inside: avoid;
    box-shadow: none;
    border: 1px solid #000;
  }

  /**
   * Black and white
   */
  .seo-badge--published,
  .seo-badge--pending,
  .seo-badge--draft,
  .seo-badge--failed {
    background: transparent;
    border: 1px solid #000;
    color: #000;
  }
}

/* ========================================
   CONTAINER QUERIES (Progressive Enhancement)
   ======================================== */

@supports (container-type: inline-size) {
  /**
   * Container-based responsive design
   * Future-proof for when container queries have better support
   */
  .seo-card-container {
    container-type: inline-size;
  }

  @container (max-width: 400px) {
    .seo-column-mapping__row {
      grid-template-columns: 1fr;
    }
  }
}

/* ========================================
   UTILITY CLASSES FOR RESPONSIVE
   ======================================== */

/* Hide on mobile */
@media (max-width: 640px) {
  .hide-mobile {
    display: none !important;
  }
}

/* Hide on tablet */
@media (min-width: 641px) and (max-width: 1023px) {
  .hide-tablet {
    display: none !important;
  }
}

/* Hide on desktop */
@media (min-width: 1024px) {
  .hide-desktop {
    display: none !important;
  }
}

/* Show only on mobile */
.show-mobile {
  display: none !important;
}

@media (max-width: 640px) {
  .show-mobile {
    display: block !important;
  }
}

/* Show only on tablet */
.show-tablet {
  display: none !important;
}

@media (min-width: 641px) and (max-width: 1023px) {
  .show-tablet {
    display: block !important;
  }
}

/* Show only on desktop */
.show-desktop {
  display: none !important;
}

@media (min-width: 1024px) {
  .show-desktop {
    display: block !important;
  }
}
